{"version":3,"file":"bundle.js","sources":["useData.js","Dropdown.js","bar.js","index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst jsonURL =\n  \"https://gist.githubusercontent.com/aulichney/d4589c85658f1a2248b143dfd62005b4/raw/3b10ecd311754f3c2234d6c880622d33ad7d176f/undercustodymod.json\";\n\n// helper function; clean the data\nfunction cleanData(row) {\n  return {\n    sex: row.sex,\n    age: Number(row.age),\n    raceEthnicity: row.raceEthnicity,\n    timeServed: row.timeServed\n  };\n}\n\n// Given the JSON data and a specified column name,\n// group by the column, compute the value counts and the average age\nexport function transformData(data, col) {\n  let transformed = d3\n    .nest()\n    .key((d) => d[col])\n    .rollup((d) => {\n      return {\n        amount: d.length,\n        ageAvg: d3.mean(d.map((correspondent) => correspondent.age)),\n        avgTimeServed: d3.mean(d.map(function (correspondent) {return correspondent.timeServed; }))\n      };\n    })\n    .entries(data);\n  return transformed;\n}\n\n// main function; retrieve the data from the JSON file\nexport const useJSON = () => {\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    d3.json(jsonURL) // retrieve data from the given URL\n      .then(function (data) {\n        //when data is retrieved, do the following\n        data = data.map(cleanData); // map each row to the cleanData function to retrieve the desired columns\n        setData(data);\n        // use the react hook to set the data\n      });\n  }, []);\n  return data;\n};\n","export const Dropdown = ({ options, id, selectedValue, onSelectedValueChange }) => (\n  <select id={id} onChange={event => onSelectedValueChange(event.target.value)}>\n    {options.map(({ value, label }) => (\n      <option value={value} selected={value === selectedValue}>\n        {label}\n      </option>\n    ))}\n  </select>\n);","import { useState, useEffect } from \"react\";\nimport { select, axisBottom, axisLeft } from \"d3\";\nimport { transformData } from \"./useData\";\nimport { Dropdown } from \"./Dropdown\";\n\n\n// bar constants \nconst WIDTH = 500;\nconst HEIGHT= 300;\nconst margin={top: 25, right: 25, bottom: 50, left: 50};\nconst innerWidth = WIDTH - margin.left - margin.right;\nconst innerHeight = HEIGHT - margin.top - margin.bottom;\n\n\n//sort constant, 'none'; 'height': sort by height descendant; 'x': sort by x value\nlet sorted = 'none'; \nconst SORT_DURATION = 500;\n\nconst Svg = (ref) => {\n  // the temporary solution is this, prevent react from appending svgs indefinitely\n  \tif (d3.selectAll(\"svg\").empty()) {\n      d3.select(ref)\n        .append(\"svg\")\n        .attr(\"width\", WIDTH)\n        .attr(\"height\", HEIGHT)\n    }\n}\n\n\nconst Bar = (ref_radio, barData, yAttribute) => {\n  \tconsole.log(barData.length)\n\t\tconst barAdjust = 5 / barData.length // for adjusting the width of bars\n  \n    const svg = d3.select(\"svg\")\n\n    // remove everything from svg and rerender objects\n    svg.selectAll(\"*\").remove();  \n\n    // draw axes\n    const xScale = d3.scaleBand()\n                   .domain(barData.map(d => d.key))\n                   .range([0, innerWidth])\n                   .paddingInner([.2]);\n    const yScale = d3.scaleLinear()\n                   .domain([0, d3.max( barData.map(d => d.value[yAttribute]) )] )\n                   .range([innerHeight, 0])\n\n    const xAxis = d3.axisBottom().scale(xScale);\n    const yAxis = d3.axisLeft().scale(yScale);\n\n    svg.append(\"g\")\n      .attr(\"class\", \"xAxis\")\n      .attr(\"transform\", `translate (${margin.left}, ${HEIGHT - margin.bottom})`)\n      .call(xAxis);\n    svg.append(\"g\")\n      .attr(\"class\", \"yAxis\")\n      .attr(\"transform\", `translate (${margin.left}, ${margin.top})`)\n      .call(yAxis);\n\n    // draw initial bars\n    const bars = svg.append('g')\n                      .attr(\"transform\", `translate (${margin.left}, ${margin.top})`)\n                      .selectAll(\"rect\")\n                      .data(barData, d => d.key);\n    bars.enter().append(\"rect\")\n      .attr(\"x\", (d, i) => xScale(d.key)+barAdjust)\n      .attr(\"y\", d => yScale(d.value[yAttribute]))\n      .attr(\"width\", xScale.bandwidth()-barAdjust*2)\n      .attr(\"height\", d => innerHeight - yScale(d.value[yAttribute]))\n      .style('opacity', 0.7)\n  \t\t.on(\"mouseover\", function(d){\n\t\t\t\td3.select(this)\n  \t\t\t\t.style(\"opacity\", 1);\n\t\t\t}).on(\"mouseout\", function(d){\n\t\t\t\td3.select(this)\n  \t\t\t\t.style(\"opacity\", 0.7);\n\t\t\t});\n      \n  \t// radio button calls sort function on click \n  \td3.select(ref_radio)\n    .selectAll(\"input\")\n    .on(\"click\", sort)\n  \n    //if sorted=='height'\n    if (sorted == 'height') {\n    const new_data = barData.slice()\n                  .sort((a,b) => d3.ascending(b.value[yAttribute], a.value[yAttribute]));\n    change_data(new_data, 0);\n    } else if (sorted == 'x') { //if sorted=='x'\n    const new_data = barData.slice().sort((a,b) => d3.ascending(a.key, b.key));\n    change_data(new_data, 0);      \n    }\n\t\n  \n  function change_data(new_data, duration, delay=0) {\n    //change the axis generator\n    xScale.domain(new_data.map(d => d.key));\n    svg.select(\".xAxis\")\n    .transition().duration(duration).ease(d3.easeLinear)\n    .call(xAxis);\n    \n    // change bars\n    const bars = svg.selectAll(\"rect\").data(new_data, d => d.key)\n    bars.transition().delay(delay).duration(duration).ease(d3.easeLinear)\n          .attr(\"x\", (d, i) => xScale(d.key)+barAdjust)\n          .attr(\"y\", d => yScale(d.value[yAttribute]))\n          .attr(\"width\", xScale.bandwidth()-barAdjust*2)\n          .attr(\"height\", d => innerHeight - yScale(d.value[yAttribute]))\n\t};\n\n  function sort() {\n    let action = d3.select(this).node().value\n    \n    if (action == \"height\"){\n      const new_data = barData.slice().sort((a,b) => d3.ascending(b.value[yAttribute], a.value[yAttribute]));\n      change_data(new_data, SORT_DURATION);\n      sorted = 'height';\n    } else {\n      const new_data = barData.slice().sort((a,b) => d3.ascending(a.key, b.key));\n      change_data(new_data, SORT_DURATION);\n      sorted = 'x';\n    }  \n  };\n};\n\n\n\nexport const Chart = ( {rawData} ) => {\n  \n  // create React hooks for controlling the grouped data we want to generate; also, setup the initial value \n  const [xAttribute, setXAttribute] = useState('sex');\n  const [yAttribute, setYAttribute] = useState('amount');\n  \n  // according to the current xAttr ibute, group by that attribute and compute the number of observations and the average age\n  const barData = transformData(rawData, xAttribute)\n  \n  // console.log(barData)\n\n  // map each column to { value: col, label: col } to feed into react Dropdown menu \n  const xFields = Object.keys(rawData[0]).map(d => ({\"value\":d, \"label\":d}));\n\n  const yFields = Object.keys(barData[0].value).map(d => ({\"value\":d, \"label\":d}));\n\n  // return the title, the dropdown menus, and the barplot with axes  \n\treturn(\n    <>\n      <h1 ref={d => Svg(d)}> Under Custody Data Visualization with Filters</h1>\n\t\t\t\n      <label for=\"x-select\">X:</label>\n      <Dropdown\n        options={xFields}\n        id=\"x-select\"\n        selectedValue={xAttribute}\n        onSelectedValueChange={setXAttribute}\n      />\n      <label for=\"y-select\">Y:</label>\n      <Dropdown\n        options={yFields}\n        id=\"y-select\"\n        selectedValue={yAttribute}\n        onSelectedValueChange={setYAttribute}\n      />    \n\n      \n      <div id='radio_sort' ref={d => Bar(d, barData, yAttribute)}>\n        <input type=\"radio\" value=\"height\" name=\"sort\" /> Sort by Height\n        <input type=\"radio\" value=\"other\" name=\"sort\" /> Sort by X Value \n      </div> \n\t\t</>\n\t);\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { useJSON } from \"./useData\";\nimport { Chart } from \"./bar\";\n\nconst App = () => {\n  const rawData = useJSON();\n\n  if (!rawData) {\n    return <h2>Loading...</h2>;\n  }\n\n  // console.log(rawData);\n\n  return (\n    <>\n      <Chart rawData={rawData} />\n    </>\n  );\n};\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);"],"names":["const","let","useState","useEffect","new_data","React","ReactDOM"],"mappings":"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"}